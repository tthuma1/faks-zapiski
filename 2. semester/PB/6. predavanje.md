
Integritetne omejitve:
- strukturo tabele rabimo narediti takšno, da lahko vnesemo vse pravilne podatke in čim manj nepravilnih - definicija tabele mora biti kar se da striktna
- npr. da preverimo ali se EMŠO in rojstni dan ujemata bi bilo nerodno narediti na nivoju baze, zato naredimo na nivoju aplikacije
- dobro je imeti čim več omejitev na nivoju baze, ker lahko do baze dostopamo z različnimi aplikacijami in vse morajo upoštevati te omejitve
- obvezni podatki - NOT NULL
- podtipi - omejitve v domeni (npr. pri jadralcih je rating celo število od 1 do 10)
- entitetne omejitve - na nivoju vrstic (npr. EMŠO in rojstni datum)
- celovitost povezav - tuji ključi:
	- stik bi lahko naredili tudi brez tujih ključev
	- tuji ključi nam zagotovijo, da v eno tabelo vnesemo samo to, kar se že nahaja v drugi tabeli
- števnost - podobno kot obveznost
- splošne omejitve - na nivoju cele tabele oz. baze
- večina omejitev je vezana na tabele - povemo znotraj CREATE TABLE ali ALTER TABLE
- ![600](Pasted%20image%2020240328144148.png)
- v nekaterih SUPB lahko definiramo lastne tipe (domene) - smiselno, če jih večkrat uporabljamo:
	- ![600](Pasted%20image%2020240328144229.png)
	- `dataType` je originalne podatkovni tip od SUPB
- lahko začasno izklopimo omejitve - če mislimo to delati, je smiselno imeti poimenovane constrainte
- ![500](Pasted%20image%2020240328144655.png)
- RESTRICT in CASCADE:
	- kaj se zgodi če obstajajo atributi tega tipa
	- RESTRICT - onemogoči brisanje tipa, ukaz ne uspe
	- CASCASE - verižno pobriši tudi te atribute

Celovitost vrstic:
- PRIMARY KEY(EMSO) = NOT NULL, UNIQUE + avtomatsko se zgradi indeks
- SUPB ne preverja, ali je dan ključ res pravi primarni ključ (najmanjši možen)

Alternativni ključi:
- ključi, ki niso glavni
- ![500](Pasted%20image%2020240328145631.png)
- UNIQUE se ponavadi avtomatsko indeksira, ker moramo vsakič, ko nekaj vstavimo noter preveriti, ali je res enoličen

Celovitost povezav:
- tuji ključi
- ![600](Pasted%20image%2020240328145913.png)
- tuje ključe označimo z #
- ![300](Pasted%20image%2020240328150118.png)
- kako deluje preverjanje tujega ključa:
	- ob INSERT in UPDATE se preveri ali obstaja ustrezna vrednost v povezani tabeli
	- pri DELETE se nič ne spremeni
- če brišemo/updatamo vrstico, na katero kaže tuji ključ:
	- ![500](Pasted%20image%2020240328150517.png)
	- SET NULL ne bi delal, če je PFK (ne sme biti NULL)
	- NO ACTION nam omogoča, da stvari spravimo v red, preden se spremeni
	- privzeto je RESTRICT
- ![400](Pasted%20image%2020240328152723.png)
- omejitve na nivoju tabele (ASSERTION):
	- ![600](Pasted%20image%2020240328152709.png)
	- obremenjujoče, ker mora SUPB pri vsaki operaciji preveriti ta CHECK
	- npr. jadralec lahko na dan rezervira en čoln
	- ![400](Pasted%20image%2020240328152948.png)
	- ^ moralo bi biti SELECT jid, dan, ker cid ni skupinski atribut

Sheme:
- imenski prostor, ki združuje povezane tabele in druge podatkovne elemente
- uporabnik postane lastnik sheme in vseh objektov, ki so definirani znotraj sheme (vsi objekti imajo istega lastnika)
- ![600](Pasted%20image%2020240328153511.png)

Instanca:
- baza (instanca) -> shema -> tabela
- instance so med seboj nepovezani:
	- imamo lahko instanco za hiter update (več podatkov bo dalo v pomnilnik) in instanco za hitro analizo (več povezav)

- dobra praksa - isto poimenujemo samo atribute, ki dejansko pomenijo isto stvar

CREATE TABLE:
- ![500](Pasted%20image%2020240328153953.png)
- primer:
	- ![500](Pasted%20image%2020240328154103.png)
	- ![600](Pasted%20image%2020240328154122.png)

- včasih je dobro, da imamo CREATE TABLE minimalen, in dodajamo stvari z ALTER TABLE

ALTER TABLE:
- pri spreminjanju tipa lahko spremenimo samo dovolj kompatibilne tipe
- ![500](Pasted%20image%2020240328154838.png)
- ![500](Pasted%20image%2020240328154850.png)

DROP TABLE:
- 