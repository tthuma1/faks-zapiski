Zaprtje množice atributov:
- štartamo z neko podmnožico atributov in množico funkcionalnih odvisnost
- katere vse atribute lahko dosežemo s tem
- ![350](../../Images/Pasted%20image%2020240425144021.png)
- ![400](../../Images/Pasted%20image%2020240425144145.png)
- kandidati za ključ: $K^+ = R$
- vemo, da D nujno rabimo, ker ne moremo do njega priti prek drugih odvisnosti
- ![500](../../Images/Pasted%20image%2020240425144627.png)
- za tiste atribute, ki so na obeh straneh, ne moremo vedeti ali morajo biti v ključu ali ne

Elmasari-Navathe algoritem:
- ko nas zanima samo en ključ
- začnemo s celo relacijo in odstranjujemo po en ključ,
- če je $\{K-X\}^+ = R$, potem ta atribut X zagotovo ni v ključu - ga damo ven, sicer ga pustimo
- O(n) glede na število atributov v R
- če gremo po drugem vrstne redu, lahko dobimo drugačen ključ, če je več ključev
- ni pogost v praksi
- ![500](../../Images/Pasted%20image%2020240425145327.png)

Saiedian-Spencer:
- za določanje vseh ključev
- O(2^n) v splošnem, v praksi blizu O(n), ker se v praksi hitreje konča
- rabimo upoštevati, tudi atribute, ki niso v nobeni odvisnosti - jih damo v $L$
- $L$ = množica atributov, ki so samo na levih straneh funkcionalnih odvisnosti
- $R$ = množica atributov, ki so samo na desnih straneh funkcionalnih odvisnosti
- atributi, ki so v $L$ bodo v vseh ključih
- atributi iz $R$ ne bojo v nobenem ključu
- atributi iz $B$ mogoče so, mogoče pa ne - rabimo pogledati vse podmnožico, začnemo z najmanjšo podmnožico in gremo gor (moč 1, moč 2 ...), dokler ne najdemo ključa
- če za nek X ugotovimo, da $L$ z njegovo pomočjo postane ključ, potem rabimo samo gledati podmnožice velikost kot je velik X
- ![450](../../Images/Pasted%20image%2020240425150006.png)
- ![450](../../Images/Pasted%20image%2020240425150220.png)
- če ne bi bila nobene podmnožica $B$ moči 1 dovolj, da dobimo ključ, probamo s podmnožicamo moči 2, potem 3, itd. dokler ne dobimo ključa

- ključi nam tudi služijo kot omejitve (NOT NULL, UNIQUE)
- ključi omogočajo enolično identifikacijo

Normalizacija:
- ene oblike tabel so slabše od drugih - imajo več redundance podatkov (ena stvar zapisana na več mestih)
- Normalizacija je postopek, s katerem pridemo do množice primernih (primerno strukturiranih) relacij, ki ustrezajo potrebam uporabe; prestrukturiranje tabel iz ene oblike v drugo
- lastnosti primernih relacij:
	- Relacije imajo minimalen nabor atributov -> zgolj tiste, ki so potrebni za pokritje potreb poslovnega sistema
	- Atributi, ki so logično povezani, so zajeti v isti relaciji
	- Med atributi relacij je minimalna redundanca -> vsak atribut (razen tujih ključev) je predstavljen samo enkrat
- želimo odpraviti redundanco, da so operacije čim enostavnejše (npr. spreminjanje je treba samo na enem mestu) in rabimo čim manj diska
- nad manjšo tabelo se bodo operacije izvajale hitreje