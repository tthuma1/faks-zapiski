## Relacijsko poizvedovanje
- element relacije je terka (vrstica), ne posamezne celice v tabeli
- atributom omejimo domene in števnost, zagotavljamo integriteto (celovitost) in veljavnost povezav

Dva osnovna povpraševalna jezika - relacijska algebra in relacijski račun:
- SQL temelji na relacijski lagebri
- sta zaprta glede na operacije:
	- če je vhod v operacijo nek element relacijskega modela, je izhod prav tako element relacijskega modela
	- relacija -> relacija
	- npr. seštevanje, množenje naravnih števil
- SQL je nadgradnja relacijske algebre
- formalno sta enakovredna
- relacijsko popolna:
	- vsak jezik, s katerim se da narediti isto, je relacijsko popolen

![600](Pasted%20image%2020240307154735.png)
- relacijski račun je bolj formalen, za manj zapletene poizvedbe
- query by example - QBE

Relacijska algebra:
- zaprt transformacijski jezik
- izraze lahko verižimo in gnezdimo
- operacije nad relacijami:
	- ![500](Pasted%20image%2020240307155419.png)
	- elementi množice niso posamezne celice ampak cele vrstice
	- kartezični produkt: vsi možni pari vrstic
	- selekcija - WHERE (filtriranje po vrsticah)
	- projekcija - SELECT (filtriranje po stolpcih)
	- stik - JOIN, selekcija kartezičnega produkta
- poizvedba ne vrne nujno enoličnih vrstic - uporabimo DISTINCT

![500](Pasted%20image%2020240307155933.png)

![500](Pasted%20image%2020240307162216.png)

Projekcija:
-  eliminira morebitne podvojene vrstice - duplikate - po projekciji dobljena relacije ostane množica
- ![500](Pasted%20image%2020240307162628.png)
- ![500](Pasted%20image%2020240307162724.png)

Selekcija:
-  vrne relacijo, ki vsebuje samo tiste n-terice (vrstice) iz relacije r, ki zadoščajo logičnemu pogoju
- ![500](Pasted%20image%2020240307162803.png)

- vedno najprej naredimo selekcijo in šele potem projekcijo; če bi zamenjali vrstni red, bi pri selekciji najbrž že zgubili potrebne stolpce

Unija:
- ![](Pasted%20image%2020240307163859.png)

Razlika:
- ![](Pasted%20image%2020240307164305.png)

Presek:
- ![](Pasted%20image%2020240307164322.png)


join:
- ![500](Pasted%20image%2020240307165208.png)

Selekcija nad kartezičnim produktom oz. stik. oz stična operacija:
- časovno najzahtevnejše operacije v bazi
- so asociativne - če zamenjamo vrstni red stičnih operacij dobimo isti rezultata
- implementiramo logične povezave med podatki
- theta stik:
	- najbolj splošen, najmanj uporaben
	- lahko uporabljamo <, >, != ...
- ekvistik:
	- primerjalni operator omejimo samo na enakost
	- poseben primer theta stika
- naravni stik:
	- ekvistik po istoimenskih atributih

Theta (pogojni) stik:
-  ![600](Pasted%20image%2020240307170022.png)