### Razporejanje procesov

- enoprocesorsko, večprocesorsko, realnočasovno razporejanje

Zakaj razporejamo:
- želimo minimizirati odzivni čas (ko klikneš se takoj nekaj zgodi)
- maksimizirati pretočnost (čim več procesov v čim krajšem času)
- da maksimalno izrabimo procesor - ker je I/O počasen, želimo čim bolje izkoristiti procesor (čim manj IDLE časa)

Kakšne razporejevalnike poznamo:
- dolgoročni (procese ustvarjajo)
- srednjeročni (razporejevalniki, ki so namenjeni odstranjevanju procesov (swapping) iz glavnega pomn.) - smo že govorili o njih pri navideznem pomn., pri algoritmih za zamenjavo
- kratkoročne (skrbijo za izvajanje na procesorju) - glavni za enoprocesorsko
- V/I (za dodeljevanje periferije) - z vidika delovanja perifernih enot, rabimo procesu dovoliti dostop do V/I

- ![500](../../Images/Pasted%20image%2020240506135152.png)
- long-term pri ustvarjanju procesov
- srednjeročno - poskrbimo za prenose strani med sekundarnim in glavnim pomn.
- short term scheduling = dispatching (dispatcher)
- ![500](../../Images/Pasted%20image%2020240506135344.png)
- predstavitev z vrstami:
	- ![500](../../Images/Pasted%20image%2020240506135444.png)

Kriteriji za oceno učinkovitosti postopka razporejanja:
- uporabniško usmerjeni - minimizacija odzivnega časa (npr. če je 5 ljudi na sistemu, se želiš počutiti, kot da si sam)
- sistemsko usmerjeni - maksimizirati pretočnost
- -
- kvantitativni
- kvalitativni - npr. napovedljivost (predictability) - ali lahko zagotavljaš enake karakteristike skozi čas, neglede na ostalo dogajanje v sistemu
- -
- preklopen način izvajanja (preamption, preemptive) - trenutno izvajan proces lahko OS prekine in postavi v stanje ready
- nepreklopen način izvajanja - proces, ki je na procesorju, ima monopol do svojega zaključka izvajanja

Algoritmi razporejanja:
- prioritetno razporejanje:
	- ![400](../../Images/Pasted%20image%2020240506141747.png)
	- RQ = ready queue
	- imamo več vrst različne prioritete, vedno izberemo proces z največjo prioriteto
	- preemption ko zmanjka časovne rezine
	- procesi z nižjo prioriteto lahko stradajo:
		- Rešitev: proces naj na podlagi starosti ali zgodovine izvajanja spremeni svojo prioriteto
	- blocked vrsta za čakanje na V/I
	- `top` dinamično prikaže procese, ima zapisano prioriteto in niceness (spremenimo z ukazom `nice`)
- FIFO (first come first serve - FCFS):
	- nepreklopen (če sem prvi prišel, bom prvi končal)
	- ![300](../../Images/Pasted%20image%2020240506142226.png)
	- ![300](../../Images/Pasted%20image%2020240506142756.png)
- Kriterij konstantne časovne rezine (round-robbin, RR):
	- časovna enota oz. kvantum (q), na koliko časa se delajo preklopi
	- preklopna različica FIFO
	- kakšno je stanje v vrsti, kdo gre v izvajanje
	- ![350](../../Images/Pasted%20image%2020240506143245.png)
	- ko en proces končamo izvajati (poteče kvantum), ga damo na konec vrste, če se še ni končal
	- ko proces pride v vrsto, se postavi na konec vrste
	- če se je proces končal, ga ne dodamo več na vrsto
	- če je vrsta prazna, se naprej izvaja proces, ki je že na procesorju
	- vedno dobimo stopničasto obliko
	- ![500](../../Images/Pasted%20image%2020240506143908.png)
	- če je proces daljši od q, se bo razdelil na več delov, sicer se bo naenkrat izvedel
	- če je q dovolj velik, dobimo isti rezultat kot FIFO
- kako biti pravičnejši do procesov ko imamo V/I zahteve - virtual round-robbin:
	- 