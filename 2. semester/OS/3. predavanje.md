- proces potrebuje vire, pomnilnik, procesorski čas, V/I - proces je torej samo vir na višjem nivoju (OS upravlja z osnovnimi računalnikovimi viri s pomočjo procesov)
- ![600](Pasted%20image%2020240311133023.png)
- črtkana črtica - $P_n$ želi dobiti čas na glavnem pomnilniku, je v stanju new; $P_n$ še ni v glavnem pomnilniku

Katere informacije potrebuje OS za nadzor procesov (in virov, ki jih procesi potrebujejo)?
- nadzorne tabele:
	- tabela procesov
	- pomnilniške tabele
	- V/I tabele
	- datotečne tabele (specifika datotečnega sistema, datoteka je lahko vir; disk je specifična V/I  naprava)
- vsak proces kaže na celo procesno sliko
- vsaka procesna slika je tudi v pomnilniku in lahko dela z V/I, zato je še puščica nazaj
- ![500](Pasted%20image%2020240311133509.png)
- s skladom sledimo klicom funkcij in podatkom vsakega klica

Nadzorne strukture OS:
- procesne tabele
- pomnilniške tabele
- V/I tabele
- datotečne tabele

Procesne tabele:
- PCB delimo na tri dele:
	- identifikatorji procesa
	- informacije za stanje procesorja
	- informacije potrebne za nadzor procesa
	- ![](Pasted%20image%2020240311134144.png)
- uporabniški sklad (implicira, da obstaja tudi sistemski sklad - se deli med vsemi procesi, ki uporabljajo sklad, procesi morajo imeti del procesne slike, ki si ga delijo z OS => shared address space)
- uprabe shared address space:
	- branje iz tipkovnice
	- dostop do klica funkcij OS za dostop datotek
- uporabniški del procesa se ne bo ponavljal med procesi, nekatere funkcije OS pa so smiselne, da se pojavijo le enkrat, ne za vsak proces posebej; npr. 100 procesov bere tipkovnico, ta podatek OS shrani le enkrat, zato to shranimo v shared address space
- v shared memory space imaš sistemski sklad

PCB:
- oznake (identifikatorji) procesa:
	- process ID (PID)
	- vedno imamo starše procesa - oznaka starša
	- dostop omejen na tri segmente - user, group, others
	- uporabljene so za povezovanja z ostalimi nadzornimi tabelami OS (cross referencing) - tip je v tem primeru ključ, imamo več ključev
- informacije o stanju procesorja:
	- v kakšnem stanju je bil procesor, ko sem ga zapustil, da lahko potem od tam nadaljujemo
- informacije za nadzor procesa

Informacije o stanju procesorja:
- vidni registri (se lahko naslavljajo s tvojimi ukazi, so programsko dostopni)
- nadzorni in statusni registri (PC, CC (conditional codes, pogojni biti), PSW (program status word))
- sistemski skladovni kazalec (tam so shranjeni klici in parametri procedur)

PSW na Intel II:
- overflow flag (OF) - če seštevamo dve predznačeni števili in rezultat pade izven intervala
- zero flag (ZF) - rezultat je 0 ali deljenje z 0
- interrupt enable flag (IF) - ali so prekinitve omogočene ali ne, za vzajemno izključevanje
- nekaj neuporabljenih bitov za prihodnost

Informacije za nadzor procesa:
- 