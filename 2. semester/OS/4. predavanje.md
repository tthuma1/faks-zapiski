Niti:
- bolj učinkovito izkoriščimo procesor z enim jedrom
- lahko sočasno razporedimo med več jedri
- če dodamo ogromno jeder, ne bo linearna pospešitev

- v jedro damo lahko minimalen nabor funkcij, ostalo pa izvedemo kot uporabniški programi (npr. Windows task manager)
- mikrojedro - minimalen nabor funkcij, ki jih rabi jedro

Proces vs. nit:
- razporejevalnik razporeja niti
- nit je osnovna enota razporejanja
- nit = lightweight proces
- kdo si lasti vire - proces (task) razervira vire za vse niti
- niti so last celotnega procesa

MS DOS:
- ena nit = en proces
- ima en program counter

Tradicionalni Unix:
- več procesov, ena nit na proces
- en program counter

Windows, Linux, Mach, Solaris:
- poleg multiprogramiranja imamo tudi multinitenje
- več procesov, več niti na proces

JVM:
- Java RTE = en proces, več niti na proces (en velik proces od Jave)

Proces:
- enota alokacije pomnilnika in zaščite virov, ne kot enota razporejanja

Struktura niti:
- na PCB rabiš identitete za vsako nit - bolj smiselno je da naredimo posebej nadzprni blok vsake niti (Thread control block)
- rabimo imeti odlagalne sklade
- ![600](Pasted%20image%2020240318134545.png)
- vsaka izmed niti potrebuje svoj kontekst, svoj PCB
- še vedno rabimo kontekst celotnega procesa in user address space (skupni viri vseh procesov, shared memory space)
- kako predstavimo niti znotraj procesne slike:
	- po procesu se je prej sprehajal en PC, sedaj ima poleg tega še vsaka nit še svoj PC

Prednosti niti:
- hitrost ustvarjanja:
	- hitreje, ker rabimo znotraj procesne slike, ki že obstaja narediti nove PC-je, te PC-ji postanejo del procesne slike, ki že obstajajo
	- 10-krat-ish hitrejše od ustvarjanja procesa
- hitrejše zaključevanje, ker je znotraj iste procesne slike
- preklopni čas:
	- za procese zamenjava konteksta (context switch)
	- če preklapljamo med niti istega procesa, ne rabimo vržti celega procesa iz procesorja
	- samo začnemo izvajati drug PC znotraj iste procesne slike
- deljenje virov in medsebojna komunikacija:
	- za komunikacijo med procesi se rabi vedno vpletati OS - časovno potratno
	- komunikacija med niti se ne rabi opirati na OS, ne rabi nobenih funkcij OS, ker lahko niti direktno med sabo komunicirajo
	- imamo sinhronizacija med nitmi, ki je veliko hitrejša, kot sinhronizacija med nitmi, ker se OS ne rabi vpletati

Primeri uporabe:
- Excel ... delovanje v ozadju:
	- imamo eno nit, ki prevarja ali je treba osvežiti program in eno nit, ki dela izračune, ko je treba
	- imamo sistem, ki je pripravljen na nov ukaz, še preden se je izvršil prejšnji
- Word ... in asinhrono procesiranje:
	- autosave - ena nit spremlja kaj pišemo, ena nit shranjuje kar naredimo

Stanja niti (nitni model stanj):
- ali so kakšna stanja še vedno upravljana na nivoju procesa?:
	- exit
	- blocked/suspend - če damo procesno sliko na sekundarni pomnilnik, smo morali dati vse niti tja
- katera stanja se vežejo na nit:
	- vseh ostalih 5 iz modela s 7 stanji
	- 