Predstavitvena plast:
- kako so podatke zapisani
- kodne tabele (ASCII, UTF-8 ...)
- ni del TCP/IP sklada, je zajeta v aplikacijsko

Zaščita podatkov:
- šifriranje
- aventikacijski mehanizmi

Dva pristopa za nadzor zamašitev:
- iz potrditev ugotavljamo, kaj se dogaja
- omrežje (usmerjevalniki) nam sporoča, kakšno je stanje - nimamo v praksi

- ko steče prenos podatkov želimo čim hitreje priti do meje zamašitve, potem pa tam nekje ostati (hkrati nočemo zamašiti omrežja)
- ko ugotovimo, da prihaja do zamašitev, moramo precej zmanjšati hitrost, da se zamašitev hitro razreši
- ![600](../../Images/Pasted%20image%2020240524094234.png)
- hitrosto pošiljanja vedno zmanjšamo za polovico, potem povečujemo naprej
- količina prenesenega prometa = površina pod funkcijo

Dva parametra, ki jiju TCP ves čas spremlja:
- receive window (rwnd) - koliko podatkov lahko naenkrat pošljemo (brez da dobimo potrditev), zaradi sprejemnika
- congestion window (cwnd) - koliko lahko naenkrat pošljemo zaradi omrežja
- cwnd se ves čas spreminja
- vzamemo min(rwnd, cwnd)
- dve navodili za povečevanje cwnd:
	- najprej eksponentno narašča (vsakič podvojimo št. segmentov (cwnd)) - slow start; čim hitreje želimo priti do meje zamašitev; traja do praga (threshold)
	- na začetku threshold ni nastavljen, se nastavi, ko se prvi paket izgubi
	- po threshold, povečujemo št. segmentov linearno (za 1); stanje izogibanja zamašitev
- ko pride do izgube (trojna potrditev ali timeout):
	- znižamo hitrost pošiljanja na začetek (cwnd = 1, ponovimo slow start)
	- threshold = cwnd/2
	- eksponentno fazo spet povečujemo do thresholda in linearno naprej
	- v novejših verzijah TCP-ja pade cwnd do threshold + 3, ne čisto na začetek - fast recovery
- ![400](../../Images/Pasted%20image%2020240524095037.png)
- ![400](../../Images/Pasted%20image%2020240524095210.png)
- cwnd pade do tal samo ko je timeout, če so trojne potrditve cwnd = cwnd/2; trojna potrditev ni tako hudo zamašitev kot timeout, ker še vedno prihajajo segmenti čez
- fast recovery lahko tudi ob trojni potrditvi naredi cwnd = cwnd/2 + 3
- ![600](../../Images/Pasted%20image%2020240524095703.png)

Različice nadzora zamašitev:
- TCP Tahoe - vedno cwnd pade do 1
- TCP Reno - po treh potrditvah pademo do cwnd/2 + 3
- TCP Vegas - gledanje RTT-jev - hitrost pošiljanja se linearno prilagaja; linearno zmanjševanje hitrosti pošiljanja ob zamašitvah
- ![300](../../Images/Pasted%20image%2020240524100042.png)

- če imamo hitro omrežje, nas slow start zelo upočasni, zato se ga ne splača delati
- različice TCP-ja so med seboj kompatibilne - odjemalec in prejemnik ne rabita imeti iste verzije, vse verzije zagotavljajo ponovno pošiljanje

- ![600](../../Images/Pasted%20image%2020240524100442.png)
- 3. na začetku ni praga, ga lahko nastavimo pri T=6 na cwnd/2 = 16
- pri T=18 threshold=21
- pri T=24 threshold=13
- 4. prag=4, cwnd=prag + 3=7 (oz. cwnd=prag)

Ali je TCP pravičen:
- če se začnejo paketi izgubljati, se začnejo za vse
- če imamo veliko UDP prometa, se mu bo TCP umaknil in bo dobil manjši delež pasovne širine