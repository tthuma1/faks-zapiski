### Transportna plast

- vzpostavi končno povezavo do procesa do procesa; zagotavlja da dobimo povratno informacijo od druge strani - QoS, potrjevanje segmentov (zanesljiv prenos in kontrola pretoka)
- moramo znati naslavljati procese s številkami vrat
- na izvoru multipleksiranje - eno povezavo uporabiš za HTTP, FTP ...; več različnim aplikacij pošlješ po isti povezavi
- na cilju demultipleksiranje - te aplikacije razdeli nazaj kot so bile na začetku
- ![300](../../Images/Pasted%20image%2020240426101304.png)

- transportna povezuje procese (port), omrežna povezuje vmesnike (IP)
- storitve omejene s storitvami nižje (omrežne) plasti:
	- transportna plast mora zagotoviti zanesljivost prenosa, da vse pride do cilja in pride tako kot je bilo poslano
	- če je omrežna plast počasna, nam ne pomaga hitrejša transportna plast
- ![500](../../Images/Pasted%20image%2020240426101452.png)
- transportna plast mora pričakovati, da bodo kdaj kakšni paketi manjkali - zahteva ponovno pošiljanje

- vmesnik za aplikacijo (TCP ali UDP) v nadzoru programerja, vse ostalo je standardizirano, odvisno od protokola

- vsak proces (~aplikacija) ima vstopno točko, ki jo imenujemo vtič (socket)
- TCP - povezavno usmerjen, UDP pa je nepovezaven
- št. vrat (port) je 16 bitna
- ![500](../../Images/Pasted%20image%2020240426101847.png)
- če želimo unikatno identificirati vtič, rabimo IP in port, ne samo port

- 0-1023 well known ports
- ![200](../../Images/Pasted%20image%2020240426101959.png)
- za lastne, nestandardizirane aplikacije - vrata nad 1023

Nepovezavno demultipleksiranje (UDP):
- strežnik samo posluša na portu
- ni povezav, je samo port, ki posluša
- skozi isti port prihajajo sporočila od vseh odjemalcev
- strežnik ne ustvari svoje niti za povezavo

- nevarnost portscan - napadalec gleda, na katerih vratih je strežnik odziven in poskusi napasti na znane ranljivosti te storitve npr. vidi da teče MySQL strežnik in ga proba napasti
- če smo za NAT, napadalec ne more delati portscan, ker rabimo mi prvi vzpostaviti povezzavo in še to naredimo samo iz enih vrat

Storitve UDP:
- lightweight, IP nadgradi najmanj kakor se da; za minimalno zakasnitev
- slabost: ne nadgradi IP protokola
- nepovezaven (ne vemo, ali je paket prišel do cilja)
- nima nadzora zamašitev (če se veliko paketov izgublja ali odzivni čas povezuje, bi lahko z manjšo intenzivnostjo pošiljajo; UDP vedno pošilja na max)