- defenzivno programiranje - preveriš za vse možne napake npr. checkanje izven ranga, preveriš, če se kakšna funkcija nepravilno zaključi; preverjamo npr. če pri množenju ne pride do overflowa, catchaš exceptione (preveriš, če je prišlo do exceptiona in ustrezno odreagiraš nanj)

Varnost sistemov:
- kaj narediti, če nisi vsega sprogramiral sam
- omejitev dostopa:
	- ne želimo, da ima neka aplikacija pravice za dostop do vsega
	- lahko nekemu procesu dodelimo, kaj je njegov root, npr. /var/www/
- ko uporabimo nek software v našem produktu, pogledamo na kakšne vzorce je sprogramirano, kateri jeziki so uporabljeni
- ko imamo več programerjev, se zmenimo za vzorce, uporabljene jezike, kako bomo delali exception handling
- gremo unit testat naš produkt
- če smo mi programerji se zmenimo katera orodja bomo uporabili (IDE, plugini)
- omejevanje privilegijev:
	- preventivno omejimo procese, netwroking na procese, ki laufajo na serverju
	- ne želimo, da se mešajo stvari drugega SW in SW, ki smo ga mi napisali
	- omejimo človeka, ker je lahko žleht ali nesposoben, zanemari neke aspekte varnosti

Omejevanje:
- aplikacije damo v peskovnik, da ne morejo spreminjati sistema
- že tako ali tako veliko stvari leti ven prek oglasov, prodajanje podatkom oglaševalskim agencijam
- danes je veliko aplikacije web
- z vsako npr. posoditvijo OS dobimo nove možnosti omejevanja pravic aplikacijam
- peskovnik za proces:
	- premaknemo root procesa
	- omejimo sistemske klice, ki jih proces lahko izvaja (funkcije, ki jih OS rabi za delovanje)
- naredimo control groupe in namespace in omejimo na nivoju virtualizacije - kontejnerji
- tudi docker kontejnerji imajo ranljivost in CVE-je, da nam nekdo ven skoče iz kontejnerja ali iz virtualke
- neskončen boj s skokom iz virtualizacije

Peskovnik znotraj procesa:
- aplikacija omejuje kodo uporabnika
	- V8 Javascript engine za hitro renderanje strani, vsi browserji ratajo bolj v skladu s standardi za pisanje in renderiranje strani - koda se prevede v vmesno kodo in potem interpretira znotraj tega V8 peskovnika
- če nam uspe skočiti iz peskovnika, dobimo dostop do matičnega sistema:
	- vedno, ko poskušamo delati optimizacijo hitrosti, delamo tradeoff z varnostjo

Peskovnik za proces:
- omejimo sistemske klice za proces (write, read ...)
- lahko omejimo dostop do networka, dostop do podatkov
- za tracking sistemskih klicev: `strace`
- sistemski klici:
	- `exec` - nadomesti kodo enega procesa z drugo kodo (ne naredi novega procesa - ostanejo file descriptorji, memory allocation)
	- `fork` - naredi nov proces