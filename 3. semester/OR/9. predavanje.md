Mikroprogramske KE vs trdoožičena KE:
- mikroprogramska:
	- + fleksibilnost - z lahkoto dodamo nove mikroukaze, hitro za razvoj; lahko imamo različne zbirnike za isto elektroniko in potem deluje kot drug računalnik (lahko imamo eno organizacijo in več arhitektur)
	- možnost realizacija različnih arhitektur
- trdoožičena:
	- + hitrejša
	- - kompleksnejša (potrebnih več logičnih vezij)

- včasih je bil CISC bolj smiselen, ker je bilo branje iz pomnilnika počasno in smo želeli čim več stvari narediti z enim branjem
- primer manj varnosti za več hitrosti: če lahko beremo nek del RAM-a samo, če imamo neke pravice, lahko najprej preberemo RAM in vmes gledamo ali imamo pravice, namesto da bi najprej preverili pravice in potem brali RAM
- pri cevovodni izvedbi rabimo ukaze razdeliti na mikrooperacije

Trdoožičena KE:
- vsak ukaz razdelimo na tri elementarne korake:
	- ![350](../../Images2/Pasted%20image%2020241126104006.png)
	- vsak strojni ukaz rabi enako število elementarnih korakov
- če je elementarni korak 0, je IRLOAD=1:
	- ![400](../../Images2/Pasted%20image%2020241126104100.png)
- immed load:
	- če je irbit7=1, pomeni da imamo 16-bitni ukaz, ki ima takojšnji operand
- pc load:
	- imamo pogojni in brezpogojni skok, da povečamo PC po izvedbi ukaza
	- b7=1 pomeni, da je skok, sicer ga ni
	- ![600](../../Images2/Pasted%20image%2020241126104936.png)

- V/I so pri trdoožičeni KE enaki, izhodne kontrolne signale pa generiramo z logičnimi vezji

- ko imajo vsi ukazi enako število korakov, lahko naredimo cevovodno različico - branje do ukaza, dekodiranje ukaza, execute, dostop do pomnilnika in write back v registrsko enoto:
	- sem ne moremo dati bolj kompleksnih ukazov (npr. jnez), ker sta to v bistvu dva ukaza (najprej preveri zastavico in potem jump), zato take ukaze pretvorimo v več ukazov
	- kompleksne ukaze damo ven in obdržimo enostavne ukaze, ki lahko naredijo isto kot kompleksni ukazi, ko jih damo skupaj
	- lahko izvajamo 5 ukazov, vsak v svoji stopnji

Družina ARM procesorjev:
- Cortex-A - applikacijski procesorji, za splošne namene
	- Memory management unit - zaščita pomnilnika za bolj kompleksne OS
- Cortex-M za realnočasovne operacije, hitri odzivi na prekinitve:
	- mikrokrmilniki
	- za vgrajene sisteme
	- RTOS - real time OS: FreeOS, Zephyr
	- težko delati zaščito pomnilnika, če en procesor ponori lahko uniči pomnilnik
	- tudi dodeljevanje pomnilnika ni tako enostavno kot pri Cortex-A

- ARM ni čisti RISC:
	- pogojno izvajanje ukazov - več ciklov za en strojni ukaz

- ARM licenčen, RISC-V open source

### Paralelizem na nivoju ukazov

- ideja: veliko ukazov v programu bi se lahko izvajalo paralelno
- s cevovodom izkoriščamo paralelnost na nivoju ukazov - več ukazov damo v kvazi paralelno izvedbo; ne rabimo spreminjati programa, da lahko paralelno izvajamo ukaze
- CPE: mikroprogramirane in trdoožičene:
	- če KE želimo trdoožičiti, jo moramo razdeliti v stopnje in se poenostavi
- ponavadi rabimo samo en del podatkovne enote, zato s cevovodom dosežemo boljše izkoriščenje vseh delov vezja, ker je celo vezje zaposleno z eno stopnjo
- CPI = clocks per instruction
- MIPS povečamo tako, da povečamo frekvenco ali zmanjšamo CPI:
	- frekvence ne moremo več veliko zviševati zaradi sproščanja toplote in porabe
	- manjšanje CPI: več logičnih vrat, da se lahko več ukazov izvaja naenkrat - paralelizem

- kako več logičnih vrat uporabiti tako, da se več ukazov izvaja paralelno
- cevovod - ne rabimo spreminjati programa, da se bo izvajal paralelno (pri nitih rabimo spremeniti program)

- CISC vs RISC: manjši MIPS, ampak dejanski čas izvedbe je lahko enak

Cevovod:
- kako?
	- ![400](../../Images2/Pasted%20image%2020241126115704.png)
	- ukaze razdelimo na stopnje, ki so enake za vsak ukaz
- vmes med stopnjami so vmesne stopnje:
	- pomnilniki, ki hranijo vmesne rezultate
	- podatkovna enota: kompleksnejša
	- kontrolna enota: se porazdeli (poenostavi)
- izračun primerjave cevovoda in brez cevovoda:
	- ![500](../../Images2/Pasted%20image%2020241126120047.png)
	- pri cevovodu prvi ukaz porabi 5 period (da se cevovod napolni), vsak naslednji pa samo eno
	- ![500](../../Images2/Pasted%20image%2020241126120149.png)
	- pridemo blizu idealnega CPI=1