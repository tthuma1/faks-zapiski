### Načrtovanje modulov

- pri arhitekturi smo imeli visokonivojski načrt po bolj obsežnih komponentah; vsaka komponenta je lahko narejena v svoji tehnologiji; kako zagotovimo lastnosti sistema

- moduli so na nižjem nivoju - kako so načrtovane posamezne komponente
- razgradnja komponent na module
- pri OOP bi bil modul = class

- moduli so neodvisni med sabo
- prej smo načrtovali, da smo prišli do modularnega načrta - sedaj delamo implementacijo s programom
- načrtovanje in implementacijo tu lahko združimo skupaj, sploh pri agilnem pristopu:
	- kako bomo razvoj razdelili na taske, ki jih razdelimo med razvijalce

- za vsak modul rabimo načrtovati:
	- kako je narejen, katere dele bo pokril

Cilji modularnega načrtovanja:
- neodvisnost modulov - jasne delitve, lažji razvoj:
	- majhna povezanost
	- velika kohezija (jedrnatost, združenost)
- od katerih izjem lahko pride, ki jih bomo morali ujeti
- preprečevanje napak

Principi načrtovanja:
- principi = lepe lastnosti, ki jih želimo doseči
- moduli so vezani na specifične lastnosti
- principi so smernice, kako bomo iskali rešitev
- kaj bo v modulu, katere funkcionalnost, podatki bodo noter
- kako zagotoviti neodvisnost modulov

Glavni principi pri načrtovanju:
- modularnost:
	- kako bomo razdelili komponente na module, da bodo čim bolj neodvisni
	- razbitje na module
	- ločitev na podlagi funkcij, značilnosti, nalog
	- izdelava modularnega načrta:
		- vsak modul ima svoj namen, je neodvisen, ga je lahko razumeti, lažje najti napake
	- optimalno želimo, da vsak modul lahko vzamemo ven in noter, brez da bi vplivali na druge module - ideal
	- želimo šibko povezanost, ne tesno povezanost
	- kohezija:
		- vsi moduli naj bodo zgoščeni - vse kar sodi v ta modul naj bo tam in nič odveč
		- noter damo vse kar rabi, ampak nič nepotrebnega
	- vrste povezanosti:
		- stvari, ki sodijo skupaj ne želiš razvijati - ne želiš vsebinske povezanosti
		- skupna povezanost - skupni podatki med moduli - en vidik zgodbe je v enem modulu - spet je treba veliko komunikacije med moduli, kar nam ni všeč
		- kontrolna povezanost - nimamo skupnih podatkov, ampak komuniciramo zato, da se moduli nadzirajo med sabo - tudi tega niti nočemo
		- povezanost podatkovnih struktur - ne delimo si istih podatke, ampak si delimo koncept, kako smo realizirali določene stvari
		- podatkovna povezanost - če rabimo prenašati podatke med moduli, to naredimo na neformalen način - imamo vzode, da nič ne predpišemo, kakšni so podatki:
			- npr. pri web server in client, serverju vedno pošljemo nek string, ki ga potem server po svoje razume
			- npr. args pri Javi je polje stringov
			- to si običajno želimo
		- nepovezanost - ponavadi ne moremo doseči
		- OOP - želimo čim manj dati public, da je manjša povezanost med classi
	- vrste kohezije:
		- naključna - najslabše, imamo nesorodne, nepovezane stvari znotraj enega modula
		- logična - damo skupaj dele, ki niso narejene z enakim namenom, ampak z enakim pristopom (stvari, ki so si podobne, čeprav ne delajo pomensko podobne stvari)
		- časovna - imamo neko funkcionalnost, ki se časovno uporablja v istem obdobjju izvajanja
		- proceduralna - postopek, ki ima neke faze - damo skupaj stvari, ki se v nekaterih korakih skupaj izvajajo - še vedno imajo lahko različne namene
		- komunikacijska - deli, ki uporabljajo iste podatke
		- zaporedna - deli, ki si sledijo zaporedno pri izvajanju
		- funkcijska kohezija - to si želimo, vse, kar potrebujemo, da izvedemo eno funkcionalnost, imamo v tem modulu - vsebuje samo dele, ki so namenjeni točno tej funkcionalnosti
		- informacijska - nadgrajena funkijska kohezija z OOP - imamo abstraktne podatkovne tipe
	- OOP nas sili v veliko kohezivnost
- vmesnik:
	- kako opišeš posamezen modul; kako ga drugi vidijo od zunaj
	- opredeliš/predstaviš nek modul zunanjemu svetu
	- predstavimo tisto, kar bo zunanjemu uporabniku pomembno, ostalo pa bomo skrili
	- opišemo jih s specifikacijo - kako naj uporabniki in razvijalci razumejo naš modul
	- ![400](../../Images4/Pasted%20image%2020251211121956.png)
	- en modul ima lahko več različnih vmesnikov
- skrivanje informacij:
	- pomembno, da lahko zgotovimo neodvisnost modulov - en modul nima vpogleda v drug modul
	- vse, kar vmesniki ne pokažejo uporabniku, je skrita informacija
	- s skrivanjm lahko naredimo manjšo povezanost in različne kohezije
	- informacijska kohezija - modul skriva podatke
	- dosežemo šibko povezane module
	- v OOP s private
- inkrementalni razvoj:
	- nekaj modulov v prvi fazi naredimo, nekaj v drugi fazi
	- moramo omogočiti, da se naš sistem lahko razdeli na več delov
	- naredimo vrstni red razvoja po modulih
	- narišemo si usmerjen graf
	- problemi:
		- cikli v grafu - moramo razbiti module tako, da en modul ločimo na dva dela, da cikel izgine
- abstrakcija:
	- z različnim nivojem vpogleda lahko gledamo na našo rešitev
	- gledamo na višjem nivoju - vidimo manj podrobnosti, bolj abstraktno sliko
	- podobno kot pri modelih, ki skrijejo določene podrobnosti in se osredotoča na glavne stvari
	- abstrakcije, ki smo jih že srečali - dekompozicija sistema, pogledi pri dekompoziciji, večslojna arhitektura (zgornji sloji skrivajo podrobnosti spodnjih slojev), specifikacija vmesnika
	- programsko kodo opišemo tako, da določene dele opišemo bolj splošno (kot psevdokoda)
- splošnost oz. generalizacija:
	- rešitev naj bo uporabna tudi v drugih situacijah, ne samo v našem konkretnem primeru/kontekstu
	- lahko naredimo na tri načine:
		- parametri
		- odstranitev predpogojev
		- poenostavitev končnih pogojev
	- npr. funkcija, ki izračuna vsoto:
		- pošljemo ji argumente
		- posplošitev končnih pogojev - namesto, da seštejemo dve števili, seštejemo nekatere elemente v polju
		- odstranitev predpogojev - namesto, da seštejemo vse elemente v polju, seštejemo vse elemente v polju

### Metodologija načrtovanja modulov

- kako dekompozicijo na module pravilno uporabiti
- OOP - en modul je en razred
- UML:
	- za zahteve diagram primerov uporabe
	- arhitektura - diagrami komponent in predstavitve
	- načrt modulov - razredni diagram (en modul = en razred); če mormao bolj podrobno opisati je koristen tudi diagram aktivnosti; namestitev in združevanje = diagram objektov in paketov

### Načrtovalski vzorci

- zgodijo se neke situacije, ki ji hje treba rešiti in se zgodijo vedno znova na enak način
- se uveljavi znanje, na kakšen način se pristopi za reševanje nekega problema
- zbirka dobrih praks, ki jih uporabljamo; bolj nizkonivojsko
- ne rabimo vedno uporabiti, ampak včasih pride prav

- vzorci so tesno povezani z OO (object oriented) načrtovanjem
- ko pridemo na neko težavo, ki je OOP ne reši najbolje
- specifični, ciljajo na neke zgodbe in neuporabni drugod
- niso preprosti - včasih malo zakomplicirajo vse skupaj
- vzorci so dobra ideja za reševanje tipičnih težav, ampak rabimo izkušnje s področja, da vemo, kdaj je nek vzorec učinkovit

- vzorci niso knjižnica, specifikacija, ampak je predloga za rešitev, ki jo je vedno treba pravilno razumenti in prilagoditi posameznemu primeru uporabe

- podobno kot arhitekturni stili, ampak arhitekturni stili so bolj visokonivojski, bolj splošni pristopi