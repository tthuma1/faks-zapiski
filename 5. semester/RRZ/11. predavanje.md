### Praktični primer

- želiš narediti 3D model stopal
- pri stereo vidu smo poiskali korespondenčne točke, da smo dobili globino - za to rabimo vedeti, kako je ena kamera pozicionirana glede na drugo (dispariteta)
- homografija = preslikava med dvema ravninama
- nogo damo na A4 list, za katerega vemo dimenzije
- imamo prosto kamero in iz A4 lista izračunamo obe legi
- A4 list nam služi:
	- za segmentacijo od stopala (list je bel, ti imaš črn štumf)
	- vemo njegove dimenzije, zato ga lahko uporabimo kot merilo - so zelo natančno odrezani, zato so dober kalibracijski vzorec

- kako zaznati vogale A4 lista:
	- harris detekcija vogalov ni v redu, ker bi nam ujelo vse vogale, ne samo vogale lista
	- bolj prav pride ujemanje slik
	- poveš uporabniku, kam približno naj da list - da uporabnik ne rabi klikniti gumba, gledaš on-line ali je v redu dal list in ko detektiraš, da je, sam slikaš

HItra sprotna detekcija vogalov:
- hitro želiš ujeti vzorec vogala lista, rabiš npr. 25 slik na sekundo obdelati
- npr. za zaznavanje obraza:
	- pri očeh izgleda bolj temno, potem bolj svetlo na licih
	- nos imaš temen in okoli belo
- gledamo samo temne in svetle regije
- AdaBoost algoritem nad integralno sliko
- pri listu papirja imamo za vsak vogal na eni strani temno regijo in na drugi strani svetlo regijo
- delamo samo z binarnimi slikami, ampak ne tako kot korelacijski koeficient pri image matching:
	- na vsakem delu slike samo odštejemo črne piksle in prištejemo svetle piksle
- integralna slika:
	- naredimo jo z enim prehodom čez sliko - vsak piksel ti pove vsoto intenzitet pikslov, ki so levo in gor od njega
- npr. izračunamo kakšna je vsota pikslov na nekem območjo (kjer je mogoče vogal lista):
	- najprej naredimo integralno sliko
	- z vrednostmi integralne slike na vogalih patcha dobimo intenzireto tistega patcha
	- iz tega bomo potem iskali vogale lista tako, da iščemo svetel patch zraven temnega patcha
	- tako dobimo na približno točen vogal lista in lahko uporabniku povemo, ali slika izgleda v redu - jo zajememo in bolj natančno obdelamo

- potem želimo bolj natančno zaznati vogal lista
- ne iščeš vogalov, ampak iščeš premice, ki predstavljajo robove lista in tam kjer, se stranice lista sekajo, je vogal lista:
	- s tem smo tudi odpravili napako, ki nastane, če se vogal lista malo ukrivi na tleh
	- iščemo premice s Hough transform in potem še naredimo least square fitting, da poiščemo premico, ki se čim bolj prilega robovom lista
- ko narediš Canny, boš poleg robov lista dobil še dlake na nogi:
	- filtiraš sliko po magnitudi robov, kar ti vrne Canny in pol orientaciji (veš, da je list približno poravnan pravokotno na sliko)

- problem pri homografiji, ko preslikamo list s stopalom:
	- konec stopala je malo dvignjen od lista, ni čisto na isti ravnini
	- iz homografije lahko izračunamo rotacijo in translacijo kamere, da vemo, za koliko previsoko gledamo stopalo in naredimo popravek

### Robotski senzorji

- s senzorji robot zajema informacije iz okolice; bolj pameten kot je, več informacij mora sprocesirati
- ![300](../../Images4/Pasted%20image%2020260109100535.png)
- kot človeška čutila
- robot lahko loči samo med tistimi stanji okolja, ki jih lahko različno zazna
- hranimo in obdelujemo samo tiste podatke, ki jih rabimo, da ugotovimo, kaj moramo narediti
- kamera, mikrofon, touch
- podobno kot 5 čutil pri človeku
- lahko zaznava več kot človek: IR kamera, ultrazvok

Delitev:
- notranji in zunanji senzorji:
	- notranji: neodvisni od okolja, ampak merijo stanje robota (npr. kot sklepa, stanje baterije, temperature procesorja)
	- zunanji: merijo stanje okolja
- pasivni in aktivni:
	- pasivni: samo gledajo, npr. kamera
	- aktivni: LIDAR - pošlje luč in meri, kdaj bo prišla nazaj
- brezkontaktni in kontaktni:
	- brezkontaktni: kamera, za merjenje oblike 3D uporabiš stereo vid
	- kontaktni: merimo 3D objekt tako, da se ga dotikamo in se premikamo po njem

Kamera:
- vidna svetloba, bližnji IR (night vision), dolgi IR (temperatura) ...
- z različnimi valovnimi dolžinami gledamo različne stvari

Senzorji z upori:
- z merjenjem upornosti merimo neko drugo količino (npr. kot, svetlobo, temperaturo) - efektivno štejemo elektrone
- potenciometer: ko vrtimo ročico se spreminja upornost
- dobro za poceni projekte

IR senzorji:
- intenzitetni IR senzorji:
	- odda IR svetlobo in vidi, kje se odbije
	- IR je dober, ker ga človek ne vidi in ni ga veliko v ambientni svetlobi
	- lahko zaznavamo, ali je blizu pred nami nek objekt
- modularni IR senzorji:
	- npr. daljinec nam pošlje nek vzorec v IR svetlobi, ki je zakodiran in se na sprejemniku odkodira
- IR senzor oddaljenosti - ni najbolj natančen, ampak je zelo poceni in porabi malo energije

Merilec rotacije:
- encoder
- inkrementalen optični merilec:
	- imaš luknjice v krogu, v katere svetiš svetlobo in šteješ, koliko luknjic je šlo mimo tebe
- lahko dobiš tudi absoluten kot

Merilci oddaljenosti:
- stereo vid
- oblika X - kot shape from defocus ali iz shadinga - to ni najbolje v realnosti uporabiti
- namesto dveh kamer imamo lahko eno kamero in en projektor - globinski senzor s kodirano svetlobo
- merjenje časa leta:
	- RADAR
	- LIDAR:
		- oddaja laserske žarke
		- imamo ogledalo, ki se vrti okrog, da lahko izmeri 180º okoli nas
		- velika ločljivost, hitri
	- SONAR:
		- oddaja ultrazvok; problem da ne moremo točno po premici poslati zvoka (zajame velik kot) + počasen je
		- še vedno koristno za izogibanje oviram, ker je majhno in poceni
		- za lokalizacijo se raje uporabi LIDAR
		- pod vodo ne moreš uporabiti LIDAR ali RADAR, ker voda vse vpije - tam moraš vse delati z akustiko (SONAR)
		- odboj signala med stenami nam tu predstavlja večji problem

Vztrajnostni senzorji:
- giroskop - meri spremembo orientacije
- pospeškometer (accelerometer)

- kompas (magnetometer) - občutljiv na motnje npr. motorja

- GPS:
	- vidiš vsaj štiri satelite in meriš čas, koliko časa signal potuje do njih - tako za vsak satelit dobiš nek radij, kako stran si lahko od njega in ko imamo tri satelite, dobimo točno lokacijo na presečišču radijev
	- sateliti dajo timestamp - da so ure v redu sinhronizirane, ti pomaga, da gledaš več satelitov

Senzorji dotika (haptični senzorji):
- meriš silo, s katero se dotikaš nečesa

Akustični senzorji:
- SONAR, mikrofon
- če imaš npr. več mikrofonov, lahko zveš, kjer v prostoru je nek vir hrupa

Združevanje senzorjev:
- vsak signal ima nek šum
- če imamo več senzorjev, ki nam nudijo redundantne informacije, lahko zmanjšamo šum
- sensor fusion:
	- signale združim skupaj
- sensor integration:
	- iz signalom dobim predstavitev in te predstavitve združim
- lahko iz senzorjev dobimo predstavitev in potem rezultate in šele rezultate združimo skupaj

- kako roomba pride do baze:
	- baza oddaja IR signal in ko se robot premakne, gleda, ali je bližje ali dalj od kamere (glede na jakost signala)
- kako roomba zazna trk:
	- v bumperjih ima eno palčko, ki prekine IR signal znotraj robota
	- lahko bi uporabili haptični senzor, ampak je to dražje
- kako roomba zazna stopnice:
	- IR senzor usmerjen v tla - pri stopnici bo zaznal, da so tla daleč

- kinect:
	- projecira IR točke in jih gleda z IR kamero + RGB kamera

- pri robotu imamo lahko zaprto zanko, da vemo, ali je prišel v željeno lego
- lahko mu dodamo kamero, ki nam bo povedala, ali je robot dosegel lego (kamera na vrhu robota ali fiksna)