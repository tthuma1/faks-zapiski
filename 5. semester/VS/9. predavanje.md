### CAN

- serijski komunikacijski vmesnik - biti se prenašajo eden za drugim
- v vgrajenih sistemih najpopularnejši UART, I2C, SPI, CAN
- UART:
	- star, počasen, omogoča point-to-point povezavo, prenašajo se samo podatki + start/stop/pariteta bit
	- asinhronski - ne prenaša se urin signal, zaradi česar se morata sprejemnik in oddajnik vnaprej dogovoriti za dolžino bita (hitrost prenosa) ipd.
	- prenašajo se samo podatki, brez ure
- I2C:
	- preprost, omogoča komunikacijo med enim gospodarjem in množico sužnjev (master, slave)
	- gospodar naslovi sužnja in suženj ve, kako se odzvati
	- nizke prenosne hitrosti, robusten na fizični plasti
	- za povezavo s počasnimi preprostimi napravami - senzorji temperature, vlage
- SPI:
	- full duplex
	- prenos med več napravami po istem vodilu
	- sinhronski - prenaša tudi urin signal (imamo data in clock žico) => oba napravi vesta, kdaj se nekaj dogaja na vodilu
- npr. oddajnik bite pošilja ob pozitivni fronti, sprejemnik pa jih bere ob negativni fronti (na polovici periode) => urin signal ima dvakrat večjo frekvenco od data
- hitrost prenosa je vedno omejena s fizičnimi lastnostmi medija, po katerim prenašamo; signali se zaradi EM sevanja popačijo, slabijo, odboj, presluh
- vsak medij ima max frekvenco (pasovno širino), do katere je možno zanesljivo prenašati podatke
- če imamo npr. 1Mbit/s max za nek medij, bodo podatki šli z max 0,5Mbit/s
- sinhronski protokoli so dobri, ker gre lahko po daljših žicah in sprejemnik vedno tipa podatke na pravem mestu

CAN:
- za okolja z veliko motnjami, rabimo robusten sistem
- Controller Area Network
- serijski, asinhronski
- vsaka naprava, ki se priklopi na vodilo, rabi transciever - naprava, ki omogoča sprejem in oddajanje podatkov
- vse naprave (poljubno mnogo) se priključijo na CANH (CAN High) in CANL (CAN Low) žici

CAN transciever:
- prilagodi naše interne digitalne nivoje (lahko uporabljamo npr. 3,3V ali 5V za enico) v napetostne nivoje za CAN vodilo
- generira "bite" na CANH in CANL
- P-MOS in N-MOS tranzistorji - nosilci naboja so pozitivno ali negativno nabiti delci; gate, drain, source priključki
- ko bo moj digitalni sistem na Tx pisal "0", bota tranzistorja prevajala (stikali vklopljeni)
- ko bo moj digitalni sisten na Tx pisal "1", bota tranzistorrja zaprta (stikali izklopljeni)

Fizična plast:
- CAN definira fizično plast kot diferencialno vodilo - vsak bit je predstavljen s parom napetosti
- vrednost bita se določa tako, da se ti dve napetosti odštejeta
- 0: CANH=3.5V, CANL=1V (lahko je tudi malo drugače, diff=2.5V)
- 1: CANH=2.5V, CANL=2.5V (diff=0V)
- imamo dolge žice (nekaj 10m) - če pride do EM motenj, se naredi enako velik "spike" na obeh žica (ker sta te dve žici vedno fizično skupaj) in diff ostane enak
- motnja ima na obeh žicah enako amplitudo in polariteto 